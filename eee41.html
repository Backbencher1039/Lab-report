<!doctype html>
<html>
  <head>
    <title>BEC Lab Cover Generator</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

    <style>
      body {
        font-family: "Times New Roman", serif;
        background: #e9e9e9;
        padding: 20px;
      }

      .main {
        display: flex;
        gap: 30px;
      }

      .form-section {
        width: 35%;
        background: white;
        padding: 20px;
        border-radius: 6px;
        box-shadow: 0 0 8px rgba(0, 0, 0, 0.15);
      }

      .form-section input {
        width: 100%;
        margin-bottom: 8px;
        padding: 6px;
        font-size: 14px;
      }

      .form-section label {
        font-weight: bold;
        display: block;
        margin-top: 10px;
      }

      button {
        width: 100%;
        padding: 10px;
        margin-top: 8px;
        background: black;
        color: white;
        border: none;
        cursor: pointer;
      }

      button:hover {
        background: #333;
      }

      /* COVER */

      .preview {
        width: 65%;
      }

      #cover {
        background: white;
        width: 800px;
        height: 1100px;
        margin: auto;
        padding: 60px 70px;
        border: 6px double black;
        position: relative;
      }

      .logo {
        text-align: center;
        margin-bottom: 15px;
      }

      .logo img {
        width: 95px;
        height: auto;
      }

      .title {
        text-align: center;
      }

      .title h1 {
        font-size: 28px;
        letter-spacing: 2px;
        margin: 5px 0;
      }

      .title h2 {
        font-size: 18px;
        margin: 5px 0;
      }

      .title h3 {
        margin: 5px 0 30px 0;
        font-size: 16px;
      }

      .ribbon {
        text-align: center;
        font-size: 22px;
        font-weight: bold;
        margin: 25px auto 40px auto;
        display: inline-block;
        padding: 10px 40px;
        border: 2px solid black;
      }

      .info {
        margin-top: 20px;
        font-size: 16px;
      }

      .info p {
        margin: 12px 0;
      }

      .label {
        display: inline-block;
        width: 170px;
        font-weight: bold;
      }

      .colon {
        display: inline-block;
        width: 15px;
      }

      .submitted-section {
        margin-top: 50px;
        border: 2px solid black;
        display: flex;
      }

      .submitted-box {
        width: 50%;
        padding: 20px;
        margin: 12px;
        line-height: 1;
      }

      .submitted-box:first-child {
        border-right: 2px solid black;
      }

      .submitted-box h4 {
        margin-bottom: 15px;
      }

      .signature {
        position: absolute;
        bottom: 70px;
        right: 80px;
        text-align: center;
      }

      .signature-line {
        width: 200px;
        border-top: 2px solid black;
        margin-bottom: 5px;
      }
      @page {
        size: A4;
        margin: 0;
      }

      @media print {
        body {
          margin: 0;
          background: white;
        }

        .form-section {
          display: none;
        }

        .preview {
          width: 100%;
        }

        #cover {
          width: 180mm;
          height: 280mm;
          margin: 0 auto;
          padding: 30mm 13mm;
          border: 6px double black;
          box-sizing: border-box;
          position: relative;
        }
      }
      @media print {
        body * {
          visibility: hidden;
        }

        #cover,
        #cover * {
          visibility: visible;
        }

        /*#cover {
          position: absolute;
          left: 0;
          top: 0;
        }*/
      }
    </style>
  </head>

  <body>
    <div class="main">
      <!-- FORM -->
      <div class="form-section">
        <h3>Edit Information</h3>

        <label>Upload Logo</label>
        <input type="file" accept="image/*" onchange="loadLogo(event)" />

        <input id="courseName" placeholder="Course Name" />
        <input id="courseCode" placeholder="Course Code" />
        <input id="expNo" placeholder="Experiment No" />
        <input id="expName" placeholder="Experiment Name" />
        <input id="subDate" placeholder="Submission Date" />

        <input id="stuName" placeholder="Student Name" />
        <input id="roll" placeholder="Roll No" />
        <input id="reg" placeholder="Registration No" />
        <input id="session" placeholder="Session" />

        <input id="teacher" placeholder="Teacher Name" />
        <input id="title" placeholder="Teacher Title" />
        <input id="dept" placeholder="Department Name" />

        <button onclick="updatePreview()">Update Preview</button>
        <button onclick="generatePDF()">Download PDF</button>
      </div>

      <!-- PREVIEW -->
      <div class="preview">
        <div id="cover">
          <div class="logo">
            <img id="logoPreview" src="" alt="" />
          </div>

          <div class="title">
            <h1>BARISHAL ENGINEERING COLLEGE</h1>
            <h2>DEPARTMENT OF ELECTRICAL & ELECTRONICS ENGINEERING</h2>
            <h3>4th Year 1st Semester</h3>
          </div>

          <div style="text-align: center">
            <div class="ribbon">Lab report</div>
          </div>

          <div class="info">
            <p>
              <span class="label">Course Name</span><span class="colon">:</span>
              <span id="pCourseName"></span>
            </p>
            <p>
              <span class="label">Course Code</span><span class="colon">:</span>
              <span id="pCourseCode"></span>
            </p>
            <p>
              <span class="label">Experiment No</span
              ><span class="colon">:</span> <span id="pExpNo"></span>
            </p>
            <p>
              <span class="label">Experiment Names</span
              ><span class="colon">:</span> <span id="pExpName"></span>
            </p>
            <p>
              <span class="label">Submission Date</span
              ><span class="colon">:</span> <span id="pSubDate"></span>
            </p>
          </div>

          <div class="submitted-section">
            <div class="submitted-box">
              <h4>Submitted by:</h4>
              Name: <span id="pStuName"></span><br /><br />
              Roll No: <span id="pRoll"></span><br /><br />
              Registration No: <span id="pReg"></span><br /><br />
              Session: <span id="pSession"></span>
            </div>

            <div class="submitted-box">
              <h4>Submitted to:</h4>
              <span id="pTeacher"></span><br /><br />
              <span id="pTitle"></span><br /><br />
              <span id="pDept"></span><br />
              Barishal Engineering College, Barishal
            </div>
          </div>

          <div class="signature">
            <div class="signature-line"></div>
            Signature
          </div>
        </div>
      </div>
    </div>

    <script>
      function loadLogo(event) {
        const reader = new FileReader();
        reader.onload = function () {
          document.getElementById("logoPreview").src = reader.result;
        };
        reader.readAsDataURL(event.target.files[0]);
      }

      function updatePreview() {
        pCourseName.innerText = courseName.value;
        pCourseCode.innerText = courseCode.value;
        pExpNo.innerText = expNo.value;
        pExpName.innerText = expName.value;
        pSubDate.innerText = subDate.value;

        pStuName.innerText = stuName.value;
        pRoll.innerText = roll.value;
        pReg.innerText = reg.value;
        pSession.innerText = session.value;

        pTeacher.innerText = teacher.value;
        pTitle.innerText = title.value;
        pDept.innerText = dept.value;
      }

      function generatePDF() {
        window.print();
      }
    </script>
  </body>
</html>
